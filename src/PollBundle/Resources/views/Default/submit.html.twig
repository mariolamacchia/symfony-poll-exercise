{% extends 'personal.html.twig' %}

{% block content %}
    <form method="POST" class="container">
        <h1 class="light-blue-text text-darken-1">Submit - {{ poll.name }}</h1>
        <div class="row">
            {% for question in questions %}
                <div class="col s12 m6">
                    <div class="card white black-text">
                        <div class="card-content">
                            <span class="card-title">Question {{ loop.index }}</span>
                            {% if question.type == 'check' %}
                                <p>{{ question.description }}</p>
                                {% for option in question.options %}
                                    <p>
                                        <input type="checkbox"
                                            {% if submitted %}disabled="true"{% endif %}
                                            name="{{ question.id }}"
                                            id="option-{{ question.id }}-{{ loop.index0 }}"
                                            value="{{ option }}"/>
                                        <label for="option-{{ question.id }}-{{ loop.index0 }}">{{ option }}</label>
                                    </p>
                                {% endfor %}
                            {% endif %}

                            {% if question.type == 'radio' %}
                                <p>{{ question.description }}</p>
                                {% for option in question.options %}
                                    <p>
                                        <input type="radio"
                                            {% if submitted %}disabled="true"{% endif %}
                                            name="{{ question.id }}"
                                            id="option-{{ question.id }}-{{ loop.index0 }}"
                                            value="{{ option }}"/>
                                        <label for="option-{{ question.id }}-{{ loop.index0 }}">{{ option }}</label>
                                    </p>
                                {% endfor %}
                            {% endif %}

                            {% if question.type == 'string' %}
                                <div class="input-field">
                                    <input name="{{ question.id }}" type="text" id="{{ question.id }}"
                                        {% if submitted %}disabled="true"{% endif %}>
                                    <label for="{{ question.id }}">{{ question.description }}</label>
                                </div>
                            {% endif %}

                            {% if question.type == 'text' %}
                                <div class="input-field">
                                    <textarea name="{{ question.id }}" type="text"
                                        {% if submitted %}disabled="true"{% endif %}
                                        id="{{ question.id }}" class="materialize-textarea"></textarea>
                                    <label for="{{ question.id }}">{{ question.description }}</label>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
        {% if not submitted %}
            <div class="center-align">
                <button class="waves-effect waves-light btn light-blue darken-4 valign">Submit</button>
            </div>
        {% endif %}
    </form>
{% endblock %}
